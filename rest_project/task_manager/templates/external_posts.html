{% extends 'index.html' %}
{% block content %}
<header>
  <h1>{{ title }}</h1>
  <div class="actions">
    <a class="button secondary" href="{% url 'task_list' %}">Back to Tasks</a>
    <a class="button" href="{% url 'external_posts' %}">Reload</a>
  </div>
  
  {% if error_message %}
    <p style="color:#b91c1c; margin-top:12px;">{{ error_message }}</p>
  {% endif %}
</header>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Body</th>
    </tr>
  </thead>
  <tbody>
    {% for post in posts %}
    <tr>
      <td>{{ post.id }}</td>
      <td>{{ post.title }}</td>
      <td>{{ post.body }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="3">No data loaded.</td>
    </tr>
    {% endfor %}
  </tbody>
  
</table>
{% endblock %}


